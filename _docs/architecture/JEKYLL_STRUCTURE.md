# Jekyll Structure

> **Navigation**: [Architecture](./README.md) | [Documentation Root](../README.md)

Overview of the Jekyll site architecture, template hierarchy, and asset organization.

## Static Site Generator

The blog uses Jekyll with Kramdown for Markdown processing and Rouge for syntax highlighting. It is deployed automatically via GitHub Pages on push to the `master` branch.

**Configuration note**: Changes to `_config.yml` require restarting the Jekyll server. The `excerpt_separator` is set to an empty string as a workaround for a known Jekyll tag-closing bug.

## Layout Hierarchy

```
default.html
├── post.html    (extends default, adds schema.org, MathJax, Disqus)
└── page.html    (extends default, for static pages like About)
```

- `default.html` provides the base HTML shell with header and footer includes.
- `post.html` adds structured data (schema.org BlogPosting), conditional MathJax loading, and Disqus comment integration.
- `page.html` renders static pages with minimal additions.

## Includes

| Include | Purpose |
|---------|---------|
| `head.html` | HTML `<head>` with CSS, metadata, and favicon |
| `header.html` | Responsive navigation with site title and page links |
| `footer.html` | Footer with social media links (GitHub, Twitter) |
| `mathjax.html` | Conditional MathJax script loading when `page.mathjax` is true |
| `disqus.html` | Disqus comment thread when `page.comments` is true |
| `icon-github.html` | GitHub SVG icon partial |
| `icon-twitter.html` | Twitter SVG icon partial |

## Styles

Sass-based styling compiled through `css/main.scss`.

| File | Purpose |
|------|---------|
| `_sass/_base.scss` | Typography, spacing, and base element styles |
| `_sass/_layout.scss` | Page layout and structural CSS |
| `_sass/_syntax-highlighting.scss` | Rouge-compatible code highlighting colors |

## Assets

### Static Files

Images and PDFs live directly in `assets/`. These include diagrams and reference documents used by specific posts.

### WebAssembly Modules

Interactive post content uses WebAssembly modules stored in `assets/wasm/<post_slug>/`. Each module directory contains artifacts generated by `wasm-bindgen` from Rust source.

| File Type | Purpose |
|-----------|---------|
| `.js` | JavaScript bindings (import entry point) |
| `.wasm` | Compiled WebAssembly binary |
| `.d.ts` | TypeScript type definitions |
| `package.json` | Node.js package metadata |

Posts embed WASM modules via `<script type="module">` blocks that import the `.js` entry point and call `init()`.

## Other Root Files

| File | Purpose |
|------|---------|
| `index.html` | Homepage with paginated post listing |
| `about.md` | Static about page |
| `feed.xml` | RSS/Atom feed template |
| `favicon.ico` | Site favicon |
| `COPYING.txt` | CC0 1.0 Universal license |
